cmake_minimum_required(VERSION 3.12...3.31)

project(
    blast_find_package
    LANGUAGES C
    VERSION @blast_VERSION@)

option(PTLIBZIPPY_BLAST_BUILD_SHARED "" @PTLIBZIPPY_BLAST_BUILD_SHARED@)
option(PTLIBZIPPY_BLAST_BUILD_STATIC "" @PTLIBZIPPY_BLAST_BUILD_STATIC@)
option(PTLIBZIPPY_BLAST_BUILD_TESTING "" @PTLIBZIPPY_BLAST_BUILD_TESTING@)

add_subdirectory(@blast_SOURCE_DIR@
    ${CMAKE_CURRENT_BINARY_DIR}/blast
    EXCLUDE_FROM_ALL)

set(BLAST_SRCS
    @blast_SOURCE_DIR@/blast-test.c)

if(PTLIBZIPPY_BLAST_BUILD_SHARED)
    add_executable(test_example ${BLAST_SRCS})
    target_link_libraries(test_example BLAST::BLAST)
endif(PTLIBZIPPY_BLAST_BUILD_SHARED)

if(PTLIBZIPPY_BLAST_BUILD_STATIC)
    add_executable(test_example_static ${BLAST_SRCS})
    target_link_libraries(test_example_static BLAST::BLASTSTATIC)
endif(PTLIBZIPPY_BLAST_BUILD_STATIC)
