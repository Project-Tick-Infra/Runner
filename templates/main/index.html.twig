{% extends 'base.html.twig' %}

{% block title %}{{ site_setting('site_title', 'Project Tick') }}{% endblock %}

{% block body %}
<div class="hero-section">
  <div class="container text-center">
    <h1>{{ site_setting('home_hero_title', 'Welcome to Project Tick') }}</h1>
    <p class="lead">
        {{ site_setting('home_hero_desc', 'Open source software focused on user freedom, transparency, and community-driven development.') }}
    </p>
    
    <div class="d-flex justify-center gap-4">
        <a href="{{ site_setting('home_hero_url1', path('app_product_download', {'slug': 'projt-launcher'})) }}" class="btn btn-primary">{{ site_setting('home_hero_btn1', 'Download Launcher') }}</a>
        <a href="{{ site_setting('home_hero_url2', path('app_project_news')) }}" class="btn btn-secondary" style="border-color: white; color: white;">{{ site_setting('home_hero_btn2', 'Read News') }}</a>
    </div>
  </div>
</div>

<div class="video-container-wrapper" style="width: 100%; max-width: 1200px; margin: 80px auto 40px; padding: 0 32px;">
    <div id="freedom-iframe-container" style="position: relative; width: 100%; aspect-ratio: 16 / 9; border: 1px solid var(--border-color); border-top: 4px solid var(--pt-red); overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.15); background: #000;">
        <iframe src="https://www.fsf.org/videos/escape-to-freedom/" scrolling="no" style="overflow: hidden; margin: 0; border: 0 none; display: block; position: absolute; width: 100%; height: 100%; top: 0;"></iframe>
    </div>
</div>

<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&dn;=gpl-3.0.txt GPL-3.0-or-later
window.addEventListener('message', function (e) { 
    if (e.data && typeof e.data === 'object' && e.data.hasOwnProperty("freedom-iframe-height")) { 
        var height = parseInt(e.data["freedom-iframe-height"]);
        if (height > 0) {
            document.getElementById('freedom-iframe-container').style.height = height + "px";
            document.getElementById('freedom-iframe-container').style.aspectRatio = "auto";
        }
    } 
});
// @license-end
</script>

<div class="container">
    <div class="grid">
      <div class="card">
        <h3>{{ site_setting('home_card1_title', 'ProjT Launcher') }}</h3>
        <p>{{ site_setting('home_card1_body', 'A powerful, open source Minecraft launcher with instance management, multiple accounts, and mod support.') }}</p>
        <div style="margin-top: auto;">
            <a href="{{ path('app_launcher') }}">{{ site_setting('home_card1_btn', 'Visit Website') }} &rarr;</a>
        </div>
      </div>

      <div class="card">
        <h3>{{ site_setting('home_card2_title', 'Handbook') }}</h3>
        <p>{{ site_setting('home_card2_body', 'Comprehensive documentation for our projects, architecture, and development guidelines.') }}</p>
        <div style="margin-top: auto;">
            <a href="{{ path('app_handbook') }}">{{ site_setting('home_card2_btn', 'Browse Handbook') }} &rarr;</a>
        </div>
      </div>
    </div>
</div>
{% endblock %}
